<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="golang.jpg" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <title>Forum</title>
    <style>
      html,
      body,
      p {
        padding: 10px;
        border: 0;
        margin: 10px;
      }
      body {
        display: flex;
        flex-flow: column nowrap;
        justify-content: center;
        align-items: left;
        height: 100vh;
      }
      h1 {
        text-align: center;
      }
      p {
        text-align: center;
        font-size: 2rem;
        color: black;
      }
      .link {
        font-size: 1rem;
      }
    </style>
  </head>
  <body>
    <a href="/logout">LOGOUT</a>
    <h1>View of post:{{.ThisPost.Title}}</h1>
    <!-- {{.ThisPost}} -->

    <div class="post">
      <div class="card text-center">
        <div class="card-header">
          Category: {{.ThisPost.Category}}
        </div>
        <div class="card-body">
          <p class="card-text">{{.ThisPost.Description}}</p>
        </div>
        <div class="card-footer text-muted">
          Created at:{{.ThisPost.Timestamp}}
        </div>
        <a href="/posts/update?id={{.ThisPost.Id}}" class="card-link">update</a>
        <a href="/posts/delete/process?id={{.ThisPost.Id}}" class="card-link"
          >delete</a>
      </div>
    </div>
    <!-- <div class="card" style="width: 60rem; margin: auto;">
      <div class="card-body" style="text-align: center;">
        <h6 class="card-subtitle mb-2 text-muted">
          {{.ThisPost.Category}}
        </h6>
        <h6 class="card-subtitle mb-2 text-muted">
          Created at:{{.ThisPost.Timestamp}}
        </h6>
        <p class="card-text">
          {{.ThisPost.Description}}
        </p>
        <a href="/posts/update?id={{.ThisPost.Id}}" class="card-link">update</a>
        <a href="/posts/delete/process?id={{.ThisPost.Id}}" class="card-link"
          >delete</a
        >
      </div>
    </div> -->
    <h1>Comments:</h1>
    {{range $index, $value := .Comments}}
    <div>
      {{$value.AuthorName}} {{$value.Timestamp}} {{$value.Text}}
    </div>
    {{end}}

    <form
      class="form"
      action="/comments/{{.ThisPost.Id}}"
      method="post"
      id="add-comment-form"
    >
      <div class="form-group">
        <h1 class="h3 mb-3 text-top">Write your comment</h1>

        <textarea
          class="form-control"
          id="comment"
          rows="5"
          placeholder="Text of the comment"
          name="comment"
        ></textarea>
      </div>
      <p class="error-text" id="errorText"></p>

      <button class="btn btn-lg btn-primary btn-block" type="submit">
        Add Comment
      </button>
    </form>

    <p class="link"><a href="/posts">All Posts</a></p>
  </body>
</html>
